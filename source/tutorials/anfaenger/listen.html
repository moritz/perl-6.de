[[[menu main tut anfaenger listen]]]
[[[setvar title Listen]]]

<div id="content">
	<h1>Listen</h1>

	<p>Angenommen, Sie wollen ein Programm schreiben, das Namen und
	Adressen von Personen speichert, eben eine Adressverwaltung.</p>
	
	<p>Dann müßen Sie irgendwie auf die verschiedene Personen zugreifen,
	das könnte etwa so aussehen:</p>
<pre>[[[syntax perl6]]]
my $name1;
my $name2;
my $name3;
my $naechster = 1;

say "Geben Sie einen Namen zum Speichern ein:";
$name1 = =<>;
say "Geben Sie den zweiten Namen zum Speichern ein:";
$name2 = =<>;
say "Geben Sie den dritten Namen zum Speichern ein:";
$name3 = =<>;

say "Welchen Namen wollen Sie sich anzeigen lassen?"
my $auswahl = =<>;
if $auswahl == 1 {
	say $name1;
} elsif $auswahl == 2 {
	say $name2;
} else {
	say $name3;
} 
[[[endsyntax]]]</pre>
	<p>Sie sehen schon: das wird hässlich. Und dieses Programm kann erst
	drei Namen speichern, in dem Arbeitsspeicher Ihres Computers ist aber
	vermutlich genug Platz, um Millionen von Namen zu speichern.</p>

	<p>Wie kann man dieses Dilemma umgehen?</p>

	<p>Die Antwort ist: mit Listen. Listen können beliebig viele Elemente
	enthalten, und man kann einfach auf diese Elemente zugreifen.</p>

	<p>Tatsächlich kamen in den bisherigen Programmen schon ab und zu
	Listen vor, vermutlich ohne, dass Sie das bemerkt hatten:</p>

<pre>[[[syntax perl6]]]
say "Die Summe von ", $a, " und ", $b, " ist ", $a + $b;
[[[endsyntax]]]</pre>

	<p>Die verschiedenen Ausdrücke, die von <code>say</code> ausgegeben
	werden sollen, werden in einer Liste geschrieben, bei der die
	einzelnen Ausdrücke durch Kommata <code>,</code> voneinander getrennt
	werden.</p>

	<p>Aber wie speichert man eine Liste? Das folgende Beispiel zeigt
	es:</p>
<pre>[[[syntax perl6]]]
my @namen;

loop (my $i = 0; $i < 3; $i++){
	say "Geben Sie Namen Nr.", $i + 1, " ein:";
	@namen[$i] = =<>;
}

say "Welchen Namen wollen Sie sich anzeigen lassen?"
my $auswahl = =<>;
say @namen[$auswahl - 1];
[[[endsyntax]]]</pre>
	
	<p>Dieses Beispiel macht das fast das gleiche wie das vorherige, und
	ist deutlich kürzer. Und es hat noch einen Vorteil: nur an einer
	einzigen Stelle steht im Quelltext, dass drei Namen gespeichert werden
	- man kann die Zahl also leicht erhöhen.</p>

	<h2>Das Programm im Detail</h2>
<pre>[[[syntax perl6]]]
my @namen;
[[[endsyntax]]]</pre>
	<p>Hier ist schon die erste Neuerung. Bisher fingen alle Variablen mit
	einem Dollar an, diese hier fängt mit einem <code>@</code> an
	(gesprochen "ät").</p>

	<p>Das sagt dem Perl-Interpreter, dass die Variable
	<code>@namen</code> ein <em>Array</em> ist, also eine Variable, die
	Listen speichern kann.</p>

<pre>[[[syntax perl6]]]
loop (my $i = 0; $i < 3; $i++){
	...
}
[[[endsyntax]]]</pre>
	<p>Wie bei den <a href="schleifen">Schleifen</a> beschrieben, läuft
	der Block dieser Schleife drei mal durch, mit den Werten 0, 1 und 2
	für <code>$i</code>.</p>

<pre>[[[syntax perl6]]]
	say "Geben Sie Namen Nr.", $i + 1, " ein:";
	@namen[$i] = =<>;
[[[endsyntax]]]</pre>
	<p>Hier wird erst der Benutzer aufgefordert, einen Namen einzugeben.
	Dabei ist zu beachten, dass <code>$i</code> von 0 bis 2 läuft, aber
	weil Benutzer meistens verwirrt sind, wenn man sie bittet, den Namen
	Nummer 0 einzugeben, wir <code>$i + 1</code> ausgegeben.</p>

	<p>Die zweite Zeile ist auch wieder etwas neues:
	<code>@name[$i]</code> ist der <code>$i</code>-te Eintrag des Arrays
	<code>@name</code>. Dabei wird allerdings bei 0 das Zählen angefangen,
	das heißt der erste Eintrag hat den Index 0, der zweite den Index 1
	und so weiter.</p>
	<p>Dem <code>$i</code>-ten Eintrag wird hier die Eingabe des Benutzer
	zugewiesen. Wenn <code>$i</code> den Wert 0 hat, und der Benutzer
	"Hans" eingibt, beutet diese Zeile das gleiche wie</p>

<pre>[[[syntax perl6]]]
	@namen[0] = "Hans";
[[[endsyntax]]]</pre>

	<p>Danach hat das Array <code>@namen</code> einen Eintrag.</p>

	<p>Wenn der Benutzer beim zweiten Durchlauf "Horst" eingibt, hat die
	Variable <code>$i</code> bereits den Wert 1, und an die zweite Stelle
	des Arrays wird "Horst" geschrieben:</p>

<pre>[[[syntax perl6]]]
	@namen[1] = "Horst";
[[[endsyntax]]]</pre>
	<p>Danach hat das Array die Einträge <code>@namen = "Hans",
	"Horst"</code>.</p>

	<p>Wenn der Benutzer beim dritten Durchlauf "Heinz" eingibt, hat das
	Array die Elemete <code>"Hans", "Horst", "Heinz"</code>.

<pre>[[[syntax perl6]]]
say "Welchen Namen wollen Sie sich anzeigen lassen?"
my $auswahl = =<>;
say @namen[$auswahl - 1];
[[[endsyntax]]]</pre>
	<p>Hier hat der Benutzer die Möglichkeit, eine Zahl einzugeben, die
	hoffentlich zwischen 1 und 3 ist.</p>

	<p>Diese Zahl wird in <code>$auswahl</code> gespeichert, und dann wird
	<code>@namen[$auswahl - 1]</code> ausgegeben. Wenn
	<code>$auswahl</code> z.B. 2 ist, wird <code>@namen[1]</code>
	ausgegeben, also das zweite Element - "Horst".</p>
